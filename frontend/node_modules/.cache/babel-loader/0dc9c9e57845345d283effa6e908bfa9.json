{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.status);\n    }\n  }\n\n  getProfile() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  editProfile(info) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: info.name,\n        about: info.about\n      })\n    }).then(this._checkResponse);\n  }\n\n  addCard(obj) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: obj.name,\n        link: obj.link\n      })\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id} `, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  addLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"PUT\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  changeAvatar(formValues) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: formValues.avatar\n      })\n    }).then(this._checkResponse);\n  }\n\n}\n\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-39\",\n  headers: {\n    authorization: \"efe40732-ef80-40e9-af55-47e05b496b02\",\n    \"Content-Type\": \"application/json\"\n  }\n});","map":{"version":3,"sources":["/home/maksim/dev/mesto-react/src/utils/Api.js"],"names":["Api","constructor","baseUrl","headers","_baseUrl","_headers","_checkResponse","res","ok","json","Promise","reject","status","getProfile","fetch","then","getInitialCards","editProfile","info","method","body","JSON","stringify","name","about","addCard","obj","link","deleteCard","id","deleteLike","addLike","changeAvatar","formValues","avatar","api","authorization"],"mappings":"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","sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.status);\n    }\n  }\n\n  getProfile() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  editProfile(info) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: info.name,\n        about: info.about,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  addCard(obj) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: obj.name,\n        link: obj.link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id} `, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  addLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  changeAvatar(formValues) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: formValues.avatar,\n      }),\n    }).then(this._checkResponse);\n  }\n}\n\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-39\",\n  headers: {\n    authorization: \"efe40732-ef80-40e9-af55-47e05b496b02\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}