{"ast":null,"code":"import _slicedToArray from\"/home/maksim/dev/mesto-react-old/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{api}from'../utils/Api';import Card from\"./Card\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onCardClick=_ref.onCardClick;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];React.useEffect(function(){api.getProfile().then(function(res){setUserName(res.name);setUserDescription(res.about);setUserAvatar(res.avatar);}).catch(function(err){return console.log(err);});},[]);React.useEffect(function(){api.getInitialCards().then(function(res){var cardInfo=res.map(function(data){return{name:data.name,link:data.link,likes:data.likes,id:data._id};});setCards(cardInfo);}).catch(function(err){return console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar\",onClick:onEditAvatar,children:/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar-img\",src:userAvatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__rename\",onClick:onEditProfile,\"aria-label\":\"change\",type:\"button\"}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__status\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__button\",onClick:onAddPlace,type:\"button\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"cards\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:onCardClick},card.id);})})]});};export default Main;","map":{"version":3,"sources":["/home/maksim/dev/mesto-react-old/mesto-react/src/components/Main.js"],"names":["React","api","Card","Main","onEditProfile","onAddPlace","onEditAvatar","onCardClick","useState","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","useEffect","getProfile","then","res","name","about","avatar","catch","err","console","log","getInitialCards","cardInfo","map","data","link","likes","id","_id","card"],"mappings":"kIAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,GAAR,KAAkB,cAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,C,wFAEA,QAASC,CAAAA,IAAT,MAAsE,IAAvDC,CAAAA,aAAuD,MAAvDA,aAAuD,CAAxCC,UAAwC,MAAxCA,UAAwC,CAA5BC,YAA4B,MAA5BA,YAA4B,CAAdC,WAAc,MAAdA,WAAc,CAEtE,oBAAgCP,KAAK,CAACQ,QAAN,CAAe,EAAf,CAAhC,oDAAOC,QAAP,qBAAiBC,WAAjB,qBACA,qBAA8CV,KAAK,CAACQ,QAAN,CAAe,EAAf,CAA9C,qDAAOG,eAAP,qBAAwBC,kBAAxB,qBACA,qBAAoCZ,KAAK,CAACQ,QAAN,CAAe,EAAf,CAApC,qDAAOK,UAAP,qBAAmBC,aAAnB,qBACA,qBAA0Bd,KAAK,CAACQ,QAAN,CAAe,EAAf,CAA1B,qDAAOO,KAAP,qBAAcC,QAAd,qBAEAhB,KAAK,CAACiB,SAAN,CAAgB,UAAM,CACpBhB,GAAG,CAACiB,UAAJ,GACCC,IADD,CACM,SAACC,GAAD,CAAS,CACbV,WAAW,CAACU,GAAG,CAACC,IAAL,CAAX,CACAT,kBAAkB,CAACQ,GAAG,CAACE,KAAL,CAAlB,CACAR,aAAa,CAACM,GAAG,CAACG,MAAL,CAAb,CACD,CALD,EAMCC,KAND,CAMO,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EANP,EAOD,CARD,CAQG,EARH,EAUAzB,KAAK,CAACiB,SAAN,CAAgB,UAAM,CACpBhB,GAAG,CAAC2B,eAAJ,GACCT,IADD,CACM,SAACC,GAAD,CAAS,CACb,GAAMS,CAAAA,QAAQ,CAAGT,GAAG,CAACU,GAAJ,CAAQ,SAACC,IAAD,CAAU,CACjC,MAAO,CACLV,IAAI,CAAEU,IAAI,CAACV,IADN,CAELW,IAAI,CAAED,IAAI,CAACC,IAFN,CAGLC,KAAK,CAAEF,IAAI,CAACE,KAHP,CAILC,EAAE,CAAEH,IAAI,CAACI,GAJJ,CAAP,CAMC,CAPc,CAAjB,CAQAnB,QAAQ,CAACa,QAAD,CAAR,CACD,CAXD,EAYCL,KAZD,CAYO,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EAZP,EAaD,CAdD,CAcG,EAdH,EAiBA,mBACQ,cAAM,SAAS,CAAC,MAAhB,wBACA,iBAAS,SAAS,CAAC,SAAnB,wBACE,YAAK,SAAS,CAAC,iBAAf,CAAiC,OAAO,CAAInB,YAA5C,uBACE,YACE,SAAS,CAAC,qBADZ,CAEE,GAAG,CAAEO,UAFP,CAGE,GAAG,CAAC,sCAHN,EADF,EADF,cAOE,aAAK,SAAS,CAAC,eAAf,wBACE,WAAI,SAAS,CAAC,eAAd,UAA+BJ,QAA/B,EADF,cAEE,eACE,SAAS,CAAC,iBADZ,CAEE,OAAO,CAAIL,aAFb,CAGE,aAAW,QAHb,CAIE,IAAI,CAAC,QAJP,EAFF,cAQE,UAAG,SAAS,CAAC,iBAAb,UAAgCO,eAAhC,EARF,GAPF,cAiBE,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAIN,UAA/C,CAA2D,IAAI,CAAC,QAAhE,EAjBF,GADA,cAoBA,gBAAS,SAAS,CAAC,OAAnB,UACCU,KAAK,CAACe,GAAN,CAAU,SAACM,IAAD,qBACT,KAAC,IAAD,EAAM,IAAI,CAAEA,IAAZ,CAAgC,WAAW,CAAI7B,WAA/C,EAAuB6B,IAAI,CAACF,EAA5B,CADS,EAAV,CADD,EApBA,GADR,CA6BG,EAEH,cAAe/B,CAAAA,IAAf","sourcesContent":["import React from \"react\";\nimport {api} from '../utils/Api';\nimport Card from \"./Card\";\n\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick}) {\n\nconst [userName, setUserName] = React.useState('');\nconst [userDescription, setUserDescription] = React.useState('');\nconst [userAvatar, setUserAvatar] = React.useState('');\nconst [cards, setCards] = React.useState([]);\n\nReact.useEffect(() => {\n  api.getProfile()\n  .then((res) => {\n    setUserName(res.name);\n    setUserDescription(res.about);\n    setUserAvatar(res.avatar);\n  })\n  .catch((err) => console.log(err))\n}, []);\n\nReact.useEffect(() => {\n  api.getInitialCards()\n  .then((res) => {\n    const cardInfo = res.map((data) => {\n      return {\n        name: data.name,\n        link: data.link,\n        likes: data.likes,\n        id: data._id\n        }\n      })\n    setCards(cardInfo);\n  })\n  .catch((err) => console.log(err))\n}, []);\n\n\nreturn(\n        <main className=\"main\">\n        <section className=\"profile\">\n          <div className=\"profile__avatar\" onClick = {onEditAvatar}>          \n            <img \n              className=\"profile__avatar-img\"\n              src={userAvatar}\n              alt=\"Аватар\" />\n          </div>\n          <div className=\"profile__info\">\n            <h1 className=\"profile__name\">{userName}</h1>\n            <button\n              className=\"profile__rename\"\n              onClick = {onEditProfile}\n              aria-label=\"change\"\n              type=\"button\"\n            ></button>\n            <p className=\"profile__status\">{userDescription}</p>\n          </div>\n          <button className=\"profile__button\" onClick = {onAddPlace} type=\"button\"></button>\n        </section>\n        <section className=\"cards\">\n        {cards.map((card) => (\n          <Card card={card} key={card.id} onCardClick = {onCardClick}/>\n        )      \n        )}\n        </section>\n      </main>\n    )\n  };\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}