{"ast":null,"code":"import _slicedToArray from\"/home/maksim/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useContext}from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext';import PopupWithForm from'./PopupWithForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onUpdateUser=_ref.onUpdateUser,onClose=_ref.onClose;var currentUser=useContext(CurrentUserContext);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userDescription=_useState4[0],setUserDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),textOnSubmit=_useState6[0],setTextOnSubmit=_useState6[1];useEffect(function(){setUserName(currentUser.name);setUserDescription(currentUser.about);setTextOnSubmit('Сохранить');},[currentUser,isOpen]);var handleNameChange=function handleNameChange(event){setUserName(event.target.value);};var handleDescriptionChange=function handleDescriptionChange(event){setUserDescription(event.target.value);};var handleSubmit=function handleSubmit(event){event.preventDefault();setTextOnSubmit('Сохранение...');onUpdateUser(userName,userDescription);};return/*#__PURE__*/_jsx(PopupWithForm,{name:\"edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",buttonText:textOnSubmit,isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"fieldset\",{className:\"form__fieldset form__fieldset_location_popup\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form__field\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"user-name-input\",className:\"form__input form__input_theme_white form__input_location_popup\",type:\"text\",name:\"user-name\",value:userName||'',onChange:handleNameChange,placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error user-name-input-error\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form__field\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"user-info-input\",className:\"form__input form__input_theme_white form__input_location_popup\",type:\"text\",name:\"user-info\",value:userDescription||'',onChange:handleDescriptionChange,placeholder:\"\\u0412\\u0430\\u0448\\u0430 \\u043F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044F\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error user-info-input-error\"})]})]})});}export default EditProfilePopup;","map":{"version":3,"sources":["/home/maksim/dev/react-mesto-api-full/frontend/src/components/EditProfilePopup.js"],"names":["useState","useEffect","useContext","CurrentUserContext","PopupWithForm","EditProfilePopup","isOpen","onUpdateUser","onClose","currentUser","userName","setUserName","userDescription","setUserDescription","textOnSubmit","setTextOnSubmit","name","about","handleNameChange","event","target","value","handleDescriptionChange","handleSubmit","preventDefault"],"mappings":"oIAAA,OAASA,QAAT,CAAmBC,SAAnB,CAA8BC,UAA9B,KAAgD,OAAhD,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,C,wFAEA,QAASC,CAAAA,gBAAT,MAA2D,IAAhCC,CAAAA,MAAgC,MAAhCA,MAAgC,CAAxBC,YAAwB,MAAxBA,YAAwB,CAAVC,OAAU,MAAVA,OAAU,CAEzD,GAAMC,CAAAA,WAAW,CAAGP,UAAU,CAACC,kBAAD,CAA9B,CAEA,cAAgCH,QAAQ,CAAC,EAAD,CAAxC,wCAAOU,QAAP,eAAiBC,WAAjB,eACA,eAA8CX,QAAQ,CAAC,EAAD,CAAtD,yCAAOY,eAAP,eAAwBC,kBAAxB,eACA,eAAwCb,QAAQ,CAAC,EAAD,CAAhD,yCAAOc,YAAP,eAAqBC,eAArB,eAEAd,SAAS,CAAC,UAAM,CACdU,WAAW,CAACF,WAAW,CAACO,IAAb,CAAX,CACAH,kBAAkB,CAACJ,WAAW,CAACQ,KAAb,CAAlB,CACAF,eAAe,CAAC,WAAD,CAAf,CACD,CAJQ,CAIN,CAACN,WAAD,CAAcH,MAAd,CAJM,CAAT,CAMA,GAAMY,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,KAAD,CAAW,CAClCR,WAAW,CAACQ,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CACD,CAFD,CAIA,GAAMC,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAACH,KAAD,CAAW,CACzCN,kBAAkB,CAACM,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAlB,CACD,CAFD,CAIA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACJ,KAAD,CAAW,CAC9BA,KAAK,CAACK,cAAN,GACAT,eAAe,CAAC,eAAD,CAAf,CACAR,YAAY,CAACG,QAAD,CAAWE,eAAX,CAAZ,CACD,CAJD,CAMA,mBACE,KAAC,aAAD,EAAe,IAAI,CAAC,MAApB,CAA2B,KAAK,CAAC,2HAAjC,CAAyD,UAAU,CAAEE,YAArE,CAAmF,MAAM,CAAER,MAA3F,CAAmG,OAAO,CAAEE,OAA5G,CAAqH,QAAQ,CAAEe,YAA/H,uBACE,kBAAU,SAAS,CAAC,8CAApB,wBACE,aAAK,SAAS,CAAC,aAAf,wBACE,cAAO,EAAE,CAAC,iBAAV,CAA4B,SAAS,CAAC,gEAAtC,CAAuG,IAAI,CAAC,MAA5G,CAAmH,IAAI,CAAC,WAAxH,CAAoI,KAAK,CAAEb,QAAQ,EAAI,EAAvJ,CAA2J,QAAQ,CAAEQ,gBAArK,CAAuL,WAAW,CAAC,6CAAnM,CAA8M,QAAQ,KAAtN,EADF,cAEE,aAAM,SAAS,CAAC,yCAAhB,EAFF,GADF,cAKE,aAAK,SAAS,CAAC,aAAf,wBACE,cAAO,EAAE,CAAC,iBAAV,CAA4B,SAAS,CAAC,gEAAtC,CAAuG,IAAI,CAAC,MAA5G,CAAmH,IAAI,CAAC,WAAxH,CAAoI,KAAK,CAAEN,eAAe,EAAI,EAA9J,CAAkK,QAAQ,CAAEU,uBAA5K,CAAqM,WAAW,CAAC,iFAAjN,CAAkO,QAAQ,KAA1O,EADF,cAEE,aAAM,SAAS,CAAC,yCAAhB,EAFF,GALF,GADF,EADF,CAcD,CAED,cAAejB,CAAAA,gBAAf","sourcesContent":["import { useState, useEffect, useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup({isOpen, onUpdateUser, onClose}) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  const [userName, setUserName] = useState('');\n  const [userDescription, setUserDescription] = useState('');\n  const [textOnSubmit, setTextOnSubmit] = useState('');\n\n  useEffect(() => {\n    setUserName(currentUser.name);\n    setUserDescription(currentUser.about);\n    setTextOnSubmit('Сохранить');\n  }, [currentUser, isOpen]);\n\n  const handleNameChange = (event) => {\n    setUserName(event.target.value);\n  }\n\n  const handleDescriptionChange = (event) => {\n    setUserDescription(event.target.value);\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    setTextOnSubmit('Сохранение...');\n    onUpdateUser(userName, userDescription);\n  }\n\n  return (\n    <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" buttonText={textOnSubmit} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <fieldset className=\"form__fieldset form__fieldset_location_popup\">\n        <div className=\"form__field\">\n          <input id=\"user-name-input\" className=\"form__input form__input_theme_white form__input_location_popup\" type=\"text\" name=\"user-name\" value={userName || ''} onChange={handleNameChange} placeholder=\"Ваше имя\" required />\n          <span className=\"form__input-error user-name-input-error\"></span>\n        </div>\n        <div className=\"form__field\">\n          <input id=\"user-info-input\" className=\"form__input form__input_theme_white form__input_location_popup\" type=\"text\" name=\"user-info\" value={userDescription || ''} onChange={handleDescriptionChange} placeholder=\"Ваша профессия\" required />\n          <span className=\"form__input-error user-info-input-error\"></span>\n        </div>\n      </fieldset>\n    </PopupWithForm>\n  );  \n}\n\nexport default EditProfilePopup;\n"]},"metadata":{},"sourceType":"module"}