{"ast":null,"code":"import _slicedToArray from\"/home/maksim/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useEffect,useState}from'react';import PopupWithForm from'./PopupWithForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onUpdateAvatar=_ref.onUpdateAvatar,onClose=_ref.onClose;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),textOnSubmit=_useState2[0],setTextOnSubmit=_useState2[1];var inputAvatarSrc=useRef();var handleSubmit=function handleSubmit(event){event.preventDefault();setTextOnSubmit('Сохранение...');onUpdateAvatar(inputAvatarSrc.current.value);};useEffect(function(){inputAvatarSrc.current.value='';setTextOnSubmit('Сохранить');},[isOpen]);return/*#__PURE__*/_jsx(PopupWithForm,{name:\"avatar-update\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",buttonText:textOnSubmit,isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(\"div\",{className:\"form__fieldset form__fieldset_location_popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form__field\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"avatar-image-input\",className:\"form__input form__input_theme_white form__input_location_popup\",type:\"url\",name:\"avatar-image\",ref:inputAvatarSrc,placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0444\\u043E\\u0442\\u043E\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error avatar-image-input-error\"})]})})});}export default EditAvatarPopup;","map":{"version":3,"sources":["/home/maksim/dev/react-mesto-api-full/frontend/src/components/EditAvatarPopup.js"],"names":["useRef","useEffect","useState","PopupWithForm","EditAvatarPopup","isOpen","onUpdateAvatar","onClose","textOnSubmit","setTextOnSubmit","inputAvatarSrc","handleSubmit","event","preventDefault","current","value"],"mappings":"oIAAA,OAASA,MAAT,CAAiBC,SAAjB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,C,wFAEA,QAASC,CAAAA,eAAT,MAA4D,IAAlCC,CAAAA,MAAkC,MAAlCA,MAAkC,CAA1BC,cAA0B,MAA1BA,cAA0B,CAAVC,OAAU,MAAVA,OAAU,CAE1D,cAAwCL,QAAQ,CAAC,EAAD,CAAhD,wCAAOM,YAAP,eAAqBC,eAArB,eAEA,GAAMC,CAAAA,cAAc,CAAGV,MAAM,EAA7B,CAEA,GAAMW,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9BA,KAAK,CAACC,cAAN,GACAJ,eAAe,CAAC,eAAD,CAAf,CACAH,cAAc,CAACI,cAAc,CAACI,OAAf,CAAuBC,KAAxB,CAAd,CACD,CAJD,CAMAd,SAAS,CAAC,UAAM,CACdS,cAAc,CAACI,OAAf,CAAuBC,KAAvB,CAA+B,EAA/B,CACAN,eAAe,CAAC,WAAD,CAAf,CACD,CAHQ,CAGN,CAACJ,MAAD,CAHM,CAAT,CAKA,mBACE,KAAC,aAAD,EAAe,IAAI,CAAC,eAApB,CAAoC,KAAK,CAAC,uFAA1C,CAA4D,UAAU,CAAEG,YAAxE,CAAsF,MAAM,CAAEH,MAA9F,CAAsG,OAAO,CAAEE,OAA/G,CAAwH,QAAQ,CAAEI,YAAlI,uBACE,YAAK,SAAS,CAAC,8CAAf,uBACE,aAAK,SAAS,CAAC,aAAf,wBACE,cAAO,EAAE,CAAC,oBAAV,CAA+B,SAAS,CAAC,gEAAzC,CAA0G,IAAI,CAAC,KAA/G,CAAqH,IAAI,CAAC,cAA1H,CAAyI,GAAG,CAAED,cAA9I,CAA8J,WAAW,CAAC,4EAA1K,CAA2L,QAAQ,KAAnM,EADF,cAEE,aAAM,SAAS,CAAC,4CAAhB,EAFF,GADF,EADF,EADF,CAUD,CAED,cAAeN,CAAAA,eAAf","sourcesContent":["import { useRef, useEffect, useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({isOpen, onUpdateAvatar, onClose}) {\n\n  const [textOnSubmit, setTextOnSubmit] = useState('');\n\n  const inputAvatarSrc = useRef();\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    setTextOnSubmit('Сохранение...');\n    onUpdateAvatar(inputAvatarSrc.current.value);\n  }\n\n  useEffect(() => {\n    inputAvatarSrc.current.value = '';\n    setTextOnSubmit('Сохранить');\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm name=\"avatar-update\" title=\"Обновить аватар\" buttonText={textOnSubmit} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <div className=\"form__fieldset form__fieldset_location_popup\">\n        <div className=\"form__field\">\n          <input id=\"avatar-image-input\" className=\"form__input form__input_theme_white form__input_location_popup\" type=\"url\" name=\"avatar-image\" ref={inputAvatarSrc} placeholder=\"Ссылка на фото\" required />\n          <span className=\"form__input-error avatar-image-input-error\"></span>\n        </div>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;"]},"metadata":{},"sourceType":"module"}