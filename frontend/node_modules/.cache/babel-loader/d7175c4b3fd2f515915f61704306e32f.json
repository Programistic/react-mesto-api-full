{"ast":null,"code":"import _slicedToArray from\"/home/maksim/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _classCallCheck from\"/home/maksim/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/maksim/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/maksim/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/maksim/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import'../index.css';import api from'../utils/Api.js';import Card from'./Card.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=/*#__PURE__*/function(_React$Component){_inherits(Main,_React$Component);var _super=_createSuper(Main);function Main(props){var _this;_classCallCheck(this,Main);_this=_super.call(this,props);_this.state={userName:null,userDescription:null,userAvatar:null,cards:[]};return _this;}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Promise.all([api.getProfile(),api.getCards()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),userData=_ref2[0],cardsData=_ref2[1];_this2.setState({userName:userData.name,userDescription:userData.about,userAvatar:userData.avatar,cards:cardsData});_this2.cardList=_this2.state.cards.map(function(card){return/*#__PURE__*/_jsx(Card,{title:card.name,link:card.link,number:card.likes.length,onCardClick:_this2.props.onCardClick},card._id);});}).catch(function(err){console.log(err);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar\",src:this.state.userAvatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__edit-icon\",onClick:this.props.onEditAvatar}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__inner-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__user-name\",children:this.state.userName}),/*#__PURE__*/_jsx(\"button\",{className:\"button profile__button-edit\",type:\"button\",\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\",onClick:this.props.onEditProfile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__user-info\",children:this.state.userDescription}),/*#__PURE__*/_jsx(\"button\",{className:\"button profile__button-add\",type:\"button\",\"aria-label\":\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\",onClick:this.props.onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"card-repository\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"cards\",children:this.cardList})})]});}}]);return Main;}(React.Component);export default Main;","map":{"version":3,"sources":["/home/maksim/dev/mesto-react/src/components/Main.js"],"names":["React","api","Card","Main","props","state","userName","userDescription","userAvatar","cards","Promise","all","getProfile","getCards","then","userData","cardsData","setState","name","about","avatar","cardList","map","card","link","likes","length","onCardClick","_id","catch","err","console","log","onEditAvatar","onEditProfile","onAddPlace","Component"],"mappings":"0iBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,GAAP,KAAgB,iBAAhB,CACA,MAAOC,CAAAA,IAAP,KAAiB,WAAjB,C,2FAEMC,CAAAA,I,wGACJ,cAAYC,KAAZ,CAAmB,sCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAAEC,QAAQ,CAAE,IAAZ,CAAkBC,eAAe,CAAE,IAAnC,CAAyCC,UAAU,CAAE,IAArD,CAA2DC,KAAK,CAAE,EAAlE,CAAb,CAFiB,aAGlB,C,kDAED,4BAAoB,iBAClBC,OAAO,CAACC,GAAR,CAAY,CAACV,GAAG,CAACW,UAAJ,EAAD,CAAmBX,GAAG,CAACY,QAAJ,EAAnB,CAAZ,EACGC,IADH,CACQ,cAA2B,kCAAzBC,QAAyB,UAAfC,SAAe,UAC/B,MAAI,CAACC,QAAL,CACE,CACEX,QAAQ,CAAES,QAAQ,CAACG,IADrB,CAEEX,eAAe,CAAEQ,QAAQ,CAACI,KAF5B,CAGEX,UAAU,CAAEO,QAAQ,CAACK,MAHvB,CAIEX,KAAK,CAAEO,SAJT,CADF,EAQA,MAAI,CAACK,QAAL,CAAgB,MAAI,CAAChB,KAAL,CAAWI,KAAX,CAAiBa,GAAjB,CAAqB,SAACC,IAAD,qBACnC,KAAC,IAAD,EAAqB,KAAK,CAAEA,IAAI,CAACL,IAAjC,CAAuC,IAAI,CAAEK,IAAI,CAACC,IAAlD,CAAwD,MAAM,CAAED,IAAI,CAACE,KAAL,CAAWC,MAA3E,CAAmF,WAAW,CAAE,MAAI,CAACtB,KAAL,CAAWuB,WAA3G,EAAWJ,IAAI,CAACK,GAAhB,CADmC,EAArB,CAAhB,CAGD,CAbH,EAcGC,KAdH,CAcS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAhBH,EAiBD,C,sBAED,iBAAS,CACP,mBACE,oCACE,iBAAS,SAAS,CAAC,SAAnB,wBACE,YAAK,SAAS,CAAC,iBAAf,CAAiC,GAAG,CAAE,KAAKzB,KAAL,CAAWG,UAAjD,CAA6D,GAAG,CAAC,sCAAjE,EADF,cAEE,YAAK,SAAS,CAAC,oBAAf,CAAoC,OAAO,CAAE,KAAKJ,KAAL,CAAW6B,YAAxD,EAFF,cAGE,aAAK,SAAS,CAAC,0BAAf,wBACE,WAAI,SAAS,CAAC,oBAAd,UAAoC,KAAK5B,KAAL,CAAWC,QAA/C,EADF,cAEE,eAAQ,SAAS,CAAC,6BAAlB,CAAgD,IAAI,CAAC,QAArD,CAA8D,aAAW,gFAAzE,CAAyF,OAAO,CAAE,KAAKF,KAAL,CAAW8B,aAA7G,EAFF,GAHF,cAOE,UAAG,SAAS,CAAC,oBAAb,UAAmC,KAAK7B,KAAL,CAAWE,eAA9C,EAPF,cAQE,eAAQ,SAAS,CAAC,4BAAlB,CAA+C,IAAI,CAAC,QAApD,CAA6D,aAAW,kDAAxE,CAAmF,OAAO,CAAE,KAAKH,KAAL,CAAW+B,UAAvG,EARF,GADF,cAYE,gBAAS,SAAS,CAAC,iBAAnB,uBACE,WAAI,SAAS,CAAC,OAAd,UACG,KAAKd,QADR,EADF,EAZF,GADF,CAoBD,C,kBA/CgBrB,KAAK,CAACoC,S,EAkDzB,cAAejC,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport '../index.css';\nimport api from '../utils/Api.js';\nimport Card from './Card.js';\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { userName: null, userDescription: null, userAvatar: null, cards: [] };\n  }  \n\n  componentDidMount() {\n    Promise.all([api.getProfile(), api.getCards()])\n      .then(([userData, cardsData]) => {\n        this.setState(\n          {\n            userName: userData.name,\n            userDescription: userData.about,\n            userAvatar: userData.avatar,\n            cards: cardsData,\n          }\n        );\n        this.cardList = this.state.cards.map((card) => (\n          <Card key={card._id} title={card.name} link={card.link} number={card.likes.length} onCardClick={this.props.onCardClick} />\n        ))\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  render() {\n    return (\n      <div>\n        <section className=\"profile\">\n          <img className=\"profile__avatar\" src={this.state.userAvatar} alt=\"Аватар\"/>\n          <div className=\"profile__edit-icon\" onClick={this.props.onEditAvatar}></div>    \n          <div className=\"profile__inner-container\">\n            <h1 className=\"profile__user-name\">{this.state.userName}</h1>\n            <button className=\"button profile__button-edit\" type=\"button\" aria-label=\"Редактировать\" onClick={this.props.onEditProfile}></button>\n          </div>\n          <p className=\"profile__user-info\">{this.state.userDescription}</p>\n          <button className=\"button profile__button-add\" type=\"button\" aria-label=\"Добавить\" onClick={this.props.onAddPlace}></button> \n        </section>\n  \n        <section className=\"card-repository\">\n          <ul className=\"cards\">\n            {this.cardList}\n          </ul>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}