{"ast":null,"code":"import _classCallCheck from\"/home/maksim/dev/mesto-react-old/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/maksim/dev/mesto-react-old/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._baseUrl=baseUrl;this._headers=headers;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}else{return Promise.reject(res.status);}}},{key:\"getProfile\",value:function getProfile(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers}).then(this._checkResponse);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers}).then(this._checkResponse);}},{key:\"editProfile\",value:function editProfile(info){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({name:info.name,about:info.about})}).then(this._checkResponse);}},{key:\"addCard\",value:function addCard(obj){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:\"POST\",headers:this._headers,body:JSON.stringify({name:obj.name,link:obj.link})}).then(this._checkResponse);}},{key:\"deleteCard\",value:function deleteCard(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\" \"),{method:\"DELETE\",headers:this._headers}).then(this._checkResponse);}},{key:\"deleteLike\",value:function deleteLike(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:\"DELETE\",headers:this._headers}).then(this._checkResponse);}},{key:\"addLike\",value:function addLike(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:\"PUT\",headers:this._headers}).then(this._checkResponse);}},{key:\"changeAvatar\",value:function changeAvatar(formValues){return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({avatar:formValues.avatar})}).then(this._checkResponse);}}]);return Api;}();export var api=new Api({baseUrl:\"https://mesto.nomoreparties.co/v1/cohort-39\",headers:{authorization:\"efe40732-ef80-40e9-af55-47e05b496b02\",\"Content-Type\":\"application/json\"}});","map":{"version":3,"sources":["/home/maksim/dev/mesto-react-old/mesto-react/src/utils/Api.js"],"names":["Api","baseUrl","headers","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","info","method","body","JSON","stringify","name","about","obj","link","id","formValues","avatar","api","authorization"],"mappings":"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","sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.status);\n    }\n  }\n\n  getProfile() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  editProfile(info) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: info.name,\n        about: info.about,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  addCard(obj) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: obj.name,\n        link: obj.link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id} `, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  addLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  changeAvatar(formValues) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: formValues.avatar,\n      }),\n    }).then(this._checkResponse);\n  }\n}\n\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-39\",\n  headers: {\n    authorization: \"efe40732-ef80-40e9-af55-47e05b496b02\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}